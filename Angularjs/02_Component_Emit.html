<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="angularjs, javascript, ui development, controller, directive, module, Filter, Databinding, Dependancy injection, service, ui route, transclusion, angular validation, scope, scope inheritance">
	  <meta name="keywords" content="angularjs, javascript, ui development, controller, directive, module, Filter, Databinding, Dependancy injection, service, ui route, transclusion, angular validation, scope, scope inheritance">
  	<meta name="author" content="Prabakaran">
    <title>UI Tutorials | Welcome</title>
    
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">    
    <link rel="stylesheet" type="text/css" href="../css/MenuStyle.css">
        <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="../scripts/menuScript.js"></script>
    <link rel="stylesheet" href="../css/SiteStyle.css">
    <link rel="stylesheet" type="text/css" href="../css/prism.css">
    <script src="../scripts/prism.js"></script>
    
    <style type="text/css">
	.leftCol{
		font-family: Arial, sans-serif; font-size: 14px; padding: 10px 5px; border-style: solid; border-width: 1px; overflow: hidden; word-break: normal; font-weight: bold; background-color: #fd6864; color: #ffffff;
		}
		.rightCol{
			
			font-family: Arial, sans-serif; font-size: 14px; padding: 10px 5px; border-style: solid; border-width: 1px; overflow: hidden; word-break: normal; text-align: left;}
	</style>
    
    
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-103420198-1', 'auto');
  ga('send', 'pageview');

</script>

</head>
  <body>
    <header>
      <div class="container">
        <div id="branding">
          <h1><span class="highlight">UI</span> Tutorials</h1>
        </div>
        <nav id='cssmenu'>            
            <div id="head-mobile"></div>
            <div class="button"></div>
            <ul>
                <li><a href="../index.html">HOME</a></li>
                <li><a href='#'>Bootstrap</a></li>
                <li class='active'><a href="#">AngularJS</a>
                  <ul>
                    <li><a href='#'>Introduction</a>
                      <ul>
                        <li><a href="01_AngularIntro_Index.html">Basic</a></li>
                        <li><a href="03_AngularIntro_Module.html">Module</a></li>
                        <li><a href="02_AngularIntro_Controller.html">Controller MVC</a>
                        	<ul>
                            	<li><a href='01_Scope_inheritance_index.html'>Scoope Inheritance</a></li>
                            </ul>
                        </li>
                      </ul>
                    </li>
                    <li><a href='#'>Angular DOM</a>
                      <ul>
                        <li><a href="01_AngularDOM_events.html">Events</a></li>
                        <li><a href="03_AngularDOM_ngShow.html">ng Show</a></li>
                        <li><a href="02_AngularDOM_ngHide.html">ng Hide</a></li>
                      </ul>
                    </li>
                    <li><a href='#'>Filter</a>
                      <ul>
                        <li><a href="02_FilterIndex_FormatData.html">Format Data</a></li>
                        <li><a href="03_Filter_SortData.html">Sort Data</a></li>
                        <li><a href="01_FilterData.html">Filter Data</a></li>
                      </ul>
                    </li>
                    <li><a href='#'>Form</a>
                      <ul>
                        <li><a href="01Form_index.html">Form</a></li>
                        <li><a href="03_AngularDOM_ngShow.html">CheckBox</a></li>
                        <li><a href="02_AngularDOM_ngHide.html">ShowHide</a></li>
                        <li><a href="01_AngularDOM_events.html">RadioButton</a></li>
                        <li><a href="01_AngularDOM_events.html">TrackingEvents</a></li>
                        <li><a href="01_AngularDOM_events.html">Validation</a></li>
                        <li><a href="01_AngularDOM_events.html">NestedValidation</a></li>
                        <li><a href="01_AngularDOM_events.html">FormSubmission</a></li>
                        <li><a href="#">Select Element</a>
                          <ul>
                            <li><a href="09SelectDD_htmlIndex.html">Html</a></li>
                            <li><a href="09SelectDD_arrayIndex.html">Array</a></li>
                            <li><a href="09SelectDD_objectIndex.html">Object</a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li><a href='#'>Service</a>
                      <ul>                                
                        <li><a href="01_Service_index.html">Index</a></li>
                      </ul>
                    </li>
                    <li><a href='#'>Directive</a>
                      <ul>
                        <li><a href='00_Directive_index.html'>Index</a></li>
                        <li><a href="#">Shared Scope</a>
                          <ul>
                            <li><a href='02_SharedScope_index.html'>SharedScope(SS)</a></li>
                            <li><a href='03_Shared_Scope_index.html'>SS-Modifying</a></li>
                          </ul>
                        </li>
                        <li><a href="#">Inherited Scope</a>
                          <ul>
                            <li><a href='04_Inherited_ScopeChild_index.html'>InheritedScope(Child)</a></li>
                            <li><a href='05_Child_index.html'>Child-Directive</a></li>
                            <li><a href='06_Child_index.html'>Child-ng Repeat</a></li>
                          </ul>
                        </li>
                        
                        
                        <li><a href="#">IsolatedScope</a>
                          <ul>
                            <li><a href='07_Isolated_Scope_index2.html'>IsolatedScope @</a></li>
                            <li><a href='08_Isolated_Scope_index2.html'>IsolatedScope =</a></li>
                            <li><a href='09_Isolated_Scope_index2.html'>IsolatedScope &amp;</a></li>
                          </ul>
                        </li>
                        
                        <li><a href='#'>Directive Compile</a>
                          <ul>
                            <li><a href='01_Directive_Compile_compile.html'>Compile</a></li>
                            <li><a href='02_ Directive_Compile_controller.html'>Controller</a></li>
                            <li><a href='03_Directive_Compile_PrePostLink.html'>LinkPrePost</a></li>
                            <li><a href='04_Directive_Compile_compileCtrlLink.html'>CompileControllerLink</a></li>
                          </ul>
                        </li>
                        <li><a href='#'>Directive Link</a>
                          <ul>
                            <li><a href='01_Directive_Link_interpolation.html'>Interpolation</a></li>
                            <li><a href='02_Directive_Link_modifyDomInCompile.html'>ModifyDom</a></li>
                            <li><a href='03_Directive_Link_DomEventHandler.html'>EventHandler</a></li>
                            <li><a href='04_Directive_Link_WithoutCompile.html'>WithoutCompile</a></li>
                            <li><a href='05_Directive_Link_CompileReturn.html'>CompileReturn</a></li>
                            <li><a href='06_Directive_Link_PostOnly.html'>PostOnly</a></li>
                          </ul>
                        </li>
                        
                      </ul>
                    </li><li><a href='#'>Data Binding</a>
                      <ul>
                        <li><a href="00_Component_DataBinding.html">Binding</a></li>
                        <li><a href="01_Component_ApplyExample.html">Apply</a></li>
                        <li><a href="05_Component_watchapply.html">WatchApply</a></li>
                        <li><a href="06_Component_withoutApply.html">WatchWithoutApply</a></li>
                        <li><a href="02_Component_Emit.html">Emit</a></li>
                        <li><a href="03_Component_NestedEmit.html">NestedEmit</a></li>
                        <li><a href="04_Component_SiblingEmit.html">SiblingEmit</a></li>
                      </ul>
                    </li>  <li><a href='#'>Routing</a>
                      <ul>
                        <li><a href="01_Route_index.html">Index</a></li>
                        <li><a href="#">Code</a>
                          <ul>
                            
                            <li><a href="02_Route_Intro.html">Intro Routing</a></li>
                            <li><a href="03_Route_Parameters.html">Parameters</a></li>
                            <li><a href="04_Route_Async.html">Asynchronous</a></li>
                            <li><a href="05_Route_Redirect.html">Redirect</a></li>
                            <li><a href="06_Route_events.html">Events</a></li>
                            <li><a href="Routing/code/06 Route-routeService-events with Loading/index.htm">With Loading</a></li>
                            <li><a href="Routing/code/07 Route-routeService-with-resolve/index.htm">With Resolve</a></li>
                          </ul>
                          
                        </li>
                        
                      </ul>
                    </li>
                    <li><a href='#'>UI Route</a>
                      <ul>
                        <li><a href="01UiRoute_index.html">Index</a></li>
                        <li><a href="#">Code</a>
                          <ul>
                            
                            <li><a href="02UIRoute_Intro_Routing_index.html">Intro Routing</a></li>
                            <li><a href="03_UIRoute_RouteWithParams.html">Parameters</a></li>
                            <li><a href="04_UIRoute_StateService.html">State</a></li>
                            <li><a href="05_UIRoute_WithResolve.html">Resolve</a></li>
                            <li><a href="06_UIRoute_SingleView.html">SingleView</a></li>
                            <li><a href="07_UIRoute_MultipleViews.html">MultipleView</a></li>
                            
                          </ul>
                          
                        </li>
                        
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href='#'>Javascript</a></li>
                <li><a href='#'>NodeJS</a></li>
                
              </ul>
        </nav>
      </div>
    </header>

    <!--<section id="newsletter">
      <div class="container">
        <h1>Subscribe To Our Newsletter</h1>
        <form>
          <input type="email" placeholder="Enter Email...">
          <button type="submit" class="button_1">Subscribe</button>
        </form>
      </div>
    </section>-->

<section id="main">
      <div class="container">
        <article id="main-col">
        <h1>Use $Broadcast(), $Emit() And $On() In AngularJS</h1>
    <p>AngularJS applications may need to communicate across the controllers. Such a communication might be needed to send notifications or to pass data between the controllers. </p>
    <p>Although there can be different approaches to achieve this goal, one that is readily available is the event system of <code>$scope and $rootScope.</code> </p>
    <p>Both of these objects - $scope and $rootScope - support three methods namely <code>$broadcast(), $emit() and $on()</code> that facilitate event driven publisher-subscriber model for sending notifications and passing data between the controllers.</p>
    <p>In this article I will discuss how to <u>raise events using $broadcast() and $emit()</u> and then how <u>to handle those events using $on().</u></p>
    <h2>Overview of $broadcast(), $emit() and $on()</h2>
    <p>$broadcast() as well as $emit() allow you to raise an event in your AngularJS application.</p>
    <ul>
        <li>That means <code>$broadcast()</code> sends an even downwards from parent to child controllers. </li>
        <li>The <code>$emit()</code> method, on the other hand, does exactly opposite. It sends an event upwards from the current controller to all of its parent controllers.</li>
    </ul>
    <pre><code class="language-javascript">        
        $scope.$broadcast("MyEvent",data);<br>
        $scope.$emit("MyEvent",data);         
    </code></pre>
    <p>Here, <code>MyEvent</code> is the developer defined name of the event that you wish to raise.</p>
    <p>The optional <code>data</code> parameter can be <u>any type of data that you wish to pass</u> when MyEvent is dispatched by the system. </p>
    <p> <code>For example,</code> if you wish to pas data from one controller to another that data can go as this second parameter.</p>
    <p>An event raised by $broadcast() and $emit() can be handled by wiring an <u>event handler</u> using $on() method. </p>
    <pre><code class="language-javascript">
        $scope.$on("MyEvent", function(evt,data){ 
                    // handler code here 
                });
        </code>
    </pre>
    <h3>Event system on $scope and $rootScope</h3>
    <p>When it comes to communicating between two or more AngularJS controllers there can be two possible arrangements:</p>
    <ul>
        <li>Controllers under consideration are nested controllers. That means they have parent-child relationship.[<u>In this case you will use $broadcast(), $emit() and $on() on the <code>$scope</code> object</u>]</li>

        <li>Controllers under consideration are sibling controllers. That means they are at the same level without any parent-child relationship. - [<u>In this you will use these methods on the
            <code>$rootScope</code> object </u>]</li>
    </ul>
    <h2>Nested controllers</h2>
    <p>The example achieves communication and passes data between controllers having <u>parent-child relationship.</u></p>
    <p>How $broadcast(), $emit() and $on() can be used with nested controllers</p>
    <p>Both the events send a string data ("some data") when the corresponding event is dispatched. You can easily substitute an object instead of string data. Upon handling the respective events a message is shown inside each just to confirm that the handler
        has indeed executed and the data is received successfully.</p>
    <span class="filename">Example : index.html</span>
    <pre><code class="language-html">
        &lt;!DOCTYPE html&gt;
        &lt;html&gt;

        &lt;head&gt;
            &lt;script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.js"&gt;&lt;/script&gt;
            &lt;script src="app.js"&gt;&lt;/script&gt;
            &lt;style&gt;
                .ng-scope {
                    padding: 10px;
                    border: 1px solid #eee;
                }
            &lt;/style&gt;
        &lt;/head&gt;

        &lt;body ng-app="MyApp"&gt;
            &lt;h1&gt;$emit $Broadcast $on&lt;/h1&gt;
            &lt;div ng-controller="MyController1"&gt;
                &lt;input type="button" value="Broadcast Down" ng-click="OnClick($event)" /&gt;
                &lt;h4&gt;{{Message}}&lt;/h4&gt;
                &lt;div ng-controller="MyController2"&gt;
                    &lt;h4&gt;{{Message}}&lt;/h4&gt;
                    &lt;div ng-controller="MyController3"&gt;
                        &lt;h4&gt;{{Message}}&lt;/h4&gt;
                        &lt;input type="button" value="Emit Up" ng-click="OnClick($event)" /&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/body&gt;

        &lt;/html&gt;
    </code></pre>
    <p>MyController1 does three things. </p>
    <ol>
        <li>Firstly, it raises SendDown event using $broadcast() method.</li>
        <li>Secondly, MyController1 handles SendData event using $on(). </li>
        <li>Thirdly, MyController1 handles SendUp event.</li>
    </ol>
    <span class="filename">Example : app.js</span>
    <pre><code class="language-javascript">
var app = angular.module("MyApp", []);

app.controller("MyController1", function($scope, $rootScope) {

    //broadcast the event down
    $scope.OnClick = function(evt) {
        $scope.$broadcast("SendDown", "some data");
    }

    //handle SendDown event
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside SendDown handler of MyController1 : " + data;
    });

    //handle SendUp event
    $scope.$on("SendUp", function(evt, data) {
        $scope.Message = "Inside SendUp handler of MyController1 : " + data;
    });
});

app.controller("MyController2", function($scope, $rootScope) {

    //handle SendDown event
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside SendDown handler of MyController2 : " + data;
    });

    //handle SendUp event
    $scope.$on("SendUp", function(evt, data) {
        $scope.Message = "Inside SendUp handler of MyController2 : " + data;
    });

});

app.controller("MyController3", function($scope, $rootScope) {

    //handle SendDown event
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside SendDown handler of MyController3 : " + data;
    });

    //emit SendUp event up
    $scope.OnClick = function(evt) {
        $scope.$emit("SendUp", "some data");
    }

    //handle SendUp event
    $scope.$on("SendUp", function(evt, data) {
        $scope.Message = "Inside SendUp handler of MyController3 : " + data;
    });
});
    </code></pre>

    <h2>Sibling controllers</h2>
    <p>if you wish to achieve the communication between <u>sibling controllers</u>? </p>
    <p>If so, you need to use $rootScope instead of $scope. That's because since there is no parent-child relationship, <u>each controller will have its own scope and there won't be any inherited scope as in the previous example.</u> </p>

    <p>Moreover, $emit() won't serve much purpose in case of sibling controllers. This is because $rootScope is a container scope for all the other scopes and can dispatch events only to its child controllers. So, only $broadcast() will serve some useful
        purpose in this case.
    </p>

    <span class="filename">Example : app.js</span>
    <pre><code class="language-javascript">
var app = angular.module("MyApp", []);

app.controller("MyController1", function($scope, $rootScope) {
    //raise event on $rootScope
    $scope.OnClick = function(evt) {
        $rootScope.$broadcast("SendDown", "some data");
    }

    //event handler
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside MyController1 : " + data;
    });

});

app.controller("MyController2", function($scope, $rootScope) {
    //event handler
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside MyController2 : " + data;
    });

});

app.controller("MyController3", function($scope, $rootScope) {
    //event handler
    $scope.$on("SendDown", function(evt, data) {
        $scope.Message = "Inside MyController3 : " + data;
    });
});
    </code></pre>
    <p>As before there are three controllers but they are siblings. The topmost (MyController1) has Broadcast button that raises SendDown event on $rootScope object. All the controllers handle the SendData event and set Message property on their individual
        $scope object. </p>
    <p>As you can see, this time $broadcast() is called on $rootScope object to raise SendDown event. SendDown is handled by individual $scope objects as before.</p>
    
        </article>
    <aside id="sidebar">
          <div class="dark">
        <h3>What We Do</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec varius auctor lacus nec feugiat. Phasellus sit amet ex ipsum. Praesent pharetra tincidunt tempor. Etiam velit eros, dapibus eget porta in, lacinia et magna</p>
      </div>
        </aside>
  </div>
    </section>
<footer>
      <p>UI Tutorials, Copyright &copy; 2017</p>
    </footer>
</body>
</html>